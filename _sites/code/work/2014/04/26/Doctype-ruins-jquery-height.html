<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Doctype ruins $.height()</title>
<meta name="viewport" content="width=device-width">

<!-- Custom CSS -->
<link rel="stylesheet" href="/assets/css/bootstrap.min.css" />
<link rel="stylesheet" href="/assets/css/syntax.css">
<link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
<link rel="stylesheet" href="/assets/css/timeline.css" />
<link rel="stylesheet" href="/assets/css/custom.css" />

</head>
<body  data-current-page="/code/work/2014/04/26/Doctype-ruins-jquery-height">    
    <div class="container">
        <div id="header">
    <ul class="nav nav-pills pull-right">
        <li data-page-id="home"><a href="/">Home</a></li>
        <li data-page-id="about"><a href="/about.html">About</a></li>
        <li data-page-id="portfolio"><a href="/portfolio.html">Porfolio</a></li>
        <li data-page-id="contact"><a href="/contact.html">Contact</a></li>
        <li data-page-id="blog"><a href="/blog/">Blog</a></li>
    </ul>
    <h1 class="title">
        <a href="/">
            <img src="/assets/img/thebrockellis.jpg" title="My mug shot" id='mugshot' />
            <span class='the'>The</span>BrockEllis
        </a>
    </h1>
</div>

        <div class="row">
    <div class="col-md-2 col-md-offset-1 blog-meta">
        <img src="/blog/img/2014-04-26.jpg" title="Doctype ruins $.height()" class='blog-meta-image img-responsive img-thumbnail' />
        <div class="blog-meta-posted"> 26 Apr 2014 <i class="icon-calendar"></i> </div>
        <div class="blog-meta-author"> Brock Ellis <i class="icon-user"></i> </div>
        <div class="blog-meta-categories">
            
                <span class='blog-meta-category'> code <i class="icon-tag"></i> </span>
            
                <span class='blog-meta-category'> work <i class="icon-tag"></i> </span>
            
        </div>
    </div>
    <div class="col-md-9 blog-content">
        <h2>Doctype ruins $.height()</h2>
        <div class="post">
            <p>tl;dr Missing DOCTYPE makes jQuery unable to calculate the window’s height properly</p>

<h2 id="background">Background</h2>
<p>We have a few different products that we support at <a href="http://www.sycamoreeducation.com">Sycamore Education</a> (formerly known as Sycamore Leaf Solutions). We try as hard as we can to keep the code as similar as possible but they server completely different markets so they’ve been drifting further and further apart. The other day, I was trying to sync up the code on both products for the login screen. Both served the same purpose and had the same layout, and thus the code should be the same.</p>

<h2 id="problem">Problem</h2>
<p>After doing the initial work, I realize that one the products had a perfect centered (vertical and horizontal) div that contained all of the content and the other products div was only centered horizontally. I spent a few seconds looking back and forth between the code to see if there were any styles I had missed copying or if there was some uncommented code that was causing the hiccup. We were using jQuery to find the available height of the viewport upon page load and then dynamically add top and bottom margins (a little hack-y, but it worked). For the life of me though, I couldn’t figure out what the differences between the code was.</p>

<h2 id="solution">Solution</h2>
<p>Like most of the problems I encounter that can’t be fixed in 10 minutes, I went straight to Google. I tried “jQuery .height() not working” and the first answer that came up was from none other than…. <em>drum roll</em> stackoverflow!</p>

<p>Side tangent: Stackoverflow is simply amazing. I have probably learned more from looking over answers and comments there than I have from any other location.</p>

<p>The first answer <a href="http://www.stackoverflow.com/questions/12787380/jquery-window-height-function-does-not-return-actual-window-heightt">to this question</a> hit the nail on the head.</p>

<p>There was probably one line of code that was not present in both files, and it was probably the most important one: the Doctype. That line was missing from the culprit file and was causing the browser to render the page in Quirks mode which causes all kinds of havoc on a page. I’m actually surprised that the height issue was the only problem that manifest itself.</p>

<p>Needless to say, adding the doctype declaration to the top of the page fixed the problem.</p>

        </div>
        
            <div id="disqus_thread"></div>
            <script type="text/javascript">
                /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                var disqus_shortname    = "thebrockellis";
                var disqus_title        = "Doctype ruins $.height()";
                var disqus_url          = "http://thebrockellis.com/code/work/2014/04/26/Doctype-ruins-jquery-height.html";

                /* * * DON'T EDIT BELOW THIS LINE * * */
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
        
    </div>
</div>


        <div class="row" id="footer">
    <div class="col-md-4">
        <span class="the">The</span> Brock Ellis
    </div>
    <div class="col-md-4">
        Jack of all trades, master of none
    </div>
    <div class="col-md-4">
        brock[at]sharproot[dot]com
    </div>
</div>

<SCRIPT type="text/javascript" src="//code.jquery.com/jquery.js"></SCRIPT>
<SCRIPT type="text/javascript">
$(document).ready(function(){
    // highlight current page
    var currentPage = $("body").data("current-page");
    if (currentPage) {
        $("li[data-page-id='" + currentPage + "']").addClass("active");
    }
});
</SCRIPT>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-35551321-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

    </div>
</body>
</html>
