<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Easy Android Device Screenshots via CLI</title>
<meta name="viewport" content="width=device-width">

<!-- Custom CSS -->
<link rel="stylesheet" href="/assets/css/bootstrap.min.css" />
<link rel="stylesheet" href="/assets/css/syntax.css">
<link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
<link rel="stylesheet" href="/assets/css/timeline.css" />
<link rel="stylesheet" href="/assets/css/custom.css" />

</head>
<body  data-current-page="/2016/08/10/Easy-Android-Device-Screenshots-Via-CLI">    
    <div class="container">
        <div id="header">
    <ul class="nav nav-pills pull-right">
        <li data-page-id="home"><a href="/">Home</a></li>
        <li data-page-id="about"><a href="/about.html">About</a></li>
        <li data-page-id="portfolio"><a href="/portfolio.html">Porfolio</a></li>
        <li data-page-id="contact"><a href="/contact.html">Contact</a></li>
        <li data-page-id="blog"><a href="/blog/">Blog</a></li>
    </ul>
    <h1 class="title">
        <a href="/">
            <img src="/assets/img/thebrockellis.jpg" title="My mug shot" id='mugshot' />
            <span class='the'>The</span>BrockEllis
        </a>
    </h1>
</div>

        <div class="row">
    <div class="col-md-2 col-md-offset-1 blog-meta">
        <img src="/blog/img/2016-08-10.jpg" title="Easy Android Device Screenshots via CLI" class='blog-meta-image img-responsive img-thumbnail' />
        <div class="blog-meta-posted"> 10 Aug 2016 <i class="icon-calendar"></i> </div>
        <div class="blog-meta-author"> Brock Ellis <i class="icon-user"></i> </div>
        <div class="blog-meta-categories">
            
                <span class='blog-meta-category'> Ionic <i class="icon-tag"></i> </span>
            
                <span class='blog-meta-category'> bash <i class="icon-tag"></i> </span>
            
                <span class='blog-meta-category'> tips <i class="icon-tag"></i> </span>
            
        </div>
    </div>
    <div class="col-md-9 blog-content">
        <h2>Easy Android Device Screenshots via CLI</h2>
        <div class="post">
            <p>tl;dr Nifty bash function for capture screenshots from the command line for Android devices</p>

<h2 id="problem">Problem</h2>
<p>When developing my Ionic 2 apps, I always had issues capturing screenshots. I was either using the Genymotion emulator which does not offer screen captures in the free version or I was using an attached device and had to physically take a screenshot and then move it to my computer.</p>

<h2 id="solution">Solution</h2>
<p>I ran into <a href="http://blog.shvetsov.com/2013/02/grab-android-screenshot-to-computer-via.html">this</a> blog post via a Stack Overflow question that explains you how you can use <code class="highlighter-rouge">adb</code> to take a screen shot from an attached device and save it locally. I added the command into a bash function in my <code class="highlighter-rouge">.bash_profile</code> that displays some feedback and also tacks on a random number to the end of the filename so I can grab 3 or 4 in quick succession without having to rename them as I take them.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="k">function </span>screenshot <span class="o">{</span>
  <span class="nv">NAMEZ</span><span class="o">=</span>~/screen_<span class="k">${</span><span class="nv">RANDOM</span><span class="k">}</span>.png
  adb shell screencap -p | perl -pe <span class="s1">'s/\x0D\x0A/\x0A/g'</span> &gt; <span class="s2">"</span><span class="nv">$NAMEZ</span><span class="s2">"</span>
  <span class="nb">echo</span> <span class="s2">"Screenshot taken: "</span><span class="nv">$NAMEZ</span><span class="s2">""</span>
<span class="o">}</span>
</code></pre>
</div>

<p>This allows me to do two things:</p>

<ol>
  <li>
    <p>Continue using a <strong>real</strong> Android device to test my Ionic apps on which is what you should be doing as much as possible. There really is NO substitution for real, device-in-hand testing.</p>
  </li>
  <li>
    <p>Not have to fiddle with moving screenshots from device to computer or having to pay for the Indie plan of Genymotion (not that Genymotion isnâ€™t worth paying for, but I constantly have issues with lag that make it near un-usable).</p>
  </li>
</ol>

        </div>
        
            <div id="disqus_thread"></div>
            <script type="text/javascript">
                /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                var disqus_shortname    = "thebrockellis";
                var disqus_title        = "Easy Android Device Screenshots via CLI";
                var disqus_url          = "http://thebrockellis.com/2016/08/10/Easy-Android-Device-Screenshots-Via-CLI";

                /* * * DON'T EDIT BELOW THIS LINE * * */
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
        
    </div>
</div>


        <div class="row" id="footer">
    <div class="col-md-4">
        <span class="the">The</span> Brock Ellis
    </div>
    <div class="col-md-4">
        Jack of all trades, master of none
    </div>
    <div class="col-md-4">
        brock[at]sharproot[dot]com
    </div>
</div>

<SCRIPT type="text/javascript" src="//code.jquery.com/jquery.js"></SCRIPT>
<SCRIPT type="text/javascript">
$(document).ready(function(){
    // highlight current page
    var currentPage = $("body").data("current-page");
    if (currentPage) {
        $("li[data-page-id='" + currentPage + "']").addClass("active");
    }
});
</SCRIPT>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-35551321-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

    </div>
</body>
</html>
